{% assign excerpt_limit = include.excerpt_limit | default: 160 %}
{% assign word_count = include.post.content | number_of_words %}
{% assign reading_minutes = word_count | divided_by: 200 %}
{% if reading_minutes < 1 %}
  {% assign reading_minutes = 1 %}
{% endif %}
<article
  class="post-card{% if include.compact %} post-card-compact{% endif %}"
  data-post-item
  data-category="{{ include.post.categories | first | default: '' | downcase }}"
  data-tags="{{ include.post.tags | join: ',' | downcase }}"
  data-reading="{{ reading_minutes }}"
  data-date="{{ include.post.date | date: '%s' }}"
>
  <a href="{{ include.post.url | relative_url }}" class="post-card-link">
    <h2 class="post-card-title">{{ include.post.title | escape }}</h2>
    <div class="post-card-meta">
      {% include post-meta.html post=include.post %}
    </div>
    {% if include.post.excerpt %}
    <p class="post-card-excerpt">{{ include.post.excerpt | strip_html | truncate: excerpt_limit }}</p>
    {% endif %}
  </a>
  {% if include.post.tags.size > 0 %}
  <div class="post-card-tags">
    {% for tag in include.post.tags %}
    <span class="tag">{{ tag }}</span>
    {% endfor %}
  </div>
  {% endif %}
</article>
